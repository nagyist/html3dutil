<!DOCTYPE html><html><head><meta charset=utf-8><title>module:extras/raypick</title></head><body><h1> module:extras/raypick</h1><p><a href='index.html'>Back to documentation index.</a></p><a name='extras_raypick'></a>
<h3> module:extras/raypick()</h3>The <code>extras/raypick.js</code> module.
To import all symbols in this module, either of the following can be used:
<pre>
import * from "extras/raypick.js";
// -- or --
import * as CustomModuleName from "extras/raypick.js";</pre><h3> Methods</h3><ul><li><a href='#extras_raypick.raypick'>raypick</a><br>Finds the three-dimensional shape object and world-space coordinates
corresponding to the given two-dimensional (X and Y) coordinates.</ul><a name='extras_raypick.raypick'></a>
<h3> (static) module:extras/raypick.raypick(x, y, projView, viewport, objects)</h3>Finds the three-dimensional shape object and world-space coordinates
corresponding to the given two-dimensional (X and Y) coordinates.<h4> Parameters</h4><ul><li><code>x</code><br>Two-dimensional x-coordinate in window space (usually lying within the viewport rectangle). See also the first parameter of MathUtil.vec3fromWindowPoint.<li><code>y</code><br>Two-dimensional y-coordinate in window space (usually lying within the viewport rectangle). See also the first parameter of MathUtil.vec3fromWindowPoint.<li><code>projView</code><br>Same meaning as second parameter of MathUtil.vec3fromWindowPoint. For example, to convert to world space coordinates, pass a projection matrix (projection matrix multiplied by the view matrix, in that order) to this parameter.<li><code>viewport</code><br>Same meaning as third parameter of MathUtil.vec3fromWindowPoint.<li><code>objects</code><br>Shape objects from which this method will choose one.</ul><h4> Return Value</h4>An object with the following properties:<ul>
<li><code>index</code> - Index, starting from 0, into the objects array
of the shape object that was picked. Is -1 if no object was picked
(and the "local" and "world" properties will be absent).
<li><code>local</code> - 3-element array giving the x-, y-, and z-coordinates of the picked point in object (model) space.
<li><code>world</code> - 3-element array giving the x-, y-, and z-coordinates of the picked point in world space.</ul><h4> Examples</h4><p>The following example shows how a hypothetical scene graph could implement picking objects based on the position of the mouse cursor.</p><pre>
var mousePos = scene.getMousePosInPixels();
var viewport = [0, 0, scene.getWidth(), scene.getHeight()];
var projview = scene.getProjectionViewMatrix();
var o = raypick(mousePos.cx, mousePos.cy, projview, viewport, objects);
if(o.index >= 0) {
pickedShape = objects[o.index];
} else {
pickedShape = null;
}</pre><p><a href='index.html'>Back to documentation index.</a></p></body></html>
