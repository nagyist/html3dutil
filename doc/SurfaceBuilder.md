# SurfaceBuilder

[Back to documentation index.](index.md)

<a name='SurfaceBuilder'></a>
### new SurfaceBuilder()

An evaluator of surface evaluator objects for generating
vertex attributes for a surface.

For more information, see the <a href="tutorial-surfaces.md">Parametric Curves and Parametric Surfaces</a> tutorial.

### Methods

* [attribute](#SurfaceBuilder_attribute)<br>Sets the parametric surface used to generate vertex attribute values.
* [clearVertices](#SurfaceBuilder_clearVertices)<br>Clears the arrays of attribute values (such as positions and normals)
and vertex indices generated so far.
* [constantAttribute](#SurfaceBuilder_constantAttribute)<br>Sets a value for an attribute semantic that will be the same for all
future vertices generated by the "evalSurface" method.
* [constantColor](#SurfaceBuilder_constantColor)<br>Sets a value for a color attribute that will be the same for all
future vertices generated by the "evalSurface" method.
* [evalSurface](#SurfaceBuilder_evalSurface)<br>Generates the vertex attributes of the parametric surfaces.
* [position](#SurfaceBuilder_position)<br>Sets the parametric surface used to generate vertex positions.
* [positionNormal](#SurfaceBuilder_positionNormal)<br>Sets the parametric surface used to generate vertex positions and normals.
* [positionNormalTexCoord](#SurfaceBuilder_positionNormalTexCoord)<br>Sets the parametric surface used to generate vertex positions and normals, and
sets a surface evaluator that generates texture coordinates in the interval [0, 1] along the u- and v-axes of the surface.
* [positionTexCoord](#SurfaceBuilder_positionTexCoord)<br>Sets the parametric surface used to generate vertex positions, and
sets a surface evaluator that generates texture coordinates in the interval [0, 1] along the u- and v-axes of the surface.
* [surfaceToBuffer](#SurfaceBuilder.surfaceToBuffer)<br>Convenience method for creating a mesh buffer from a parametric
surface.
* [texCoord](#SurfaceBuilder_texCoord)<br>Sets the parametric surface used to generate texture coordinates.
* [toMeshBuffer](#SurfaceBuilder_toMeshBuffer)<br>Generates a mesh buffer containing the vertex attributes
generated so far.

<a name='SurfaceBuilder_attribute'></a>
### SurfaceBuilder#attribute(surface, semantic, [semanticIndex], [size])

Sets the parametric surface used to generate vertex attribute values.

#### Parameters

* `surface` (Type: Object)<br>A <a href="Surface.md">surface evaluator object</a> that describes the parametric surface used to generate attribute values. u- and v-coordinates for the given surface correspond to u- and v-coordinates, respectively, for the surface used to generate vertex positions.
* `semantic` (Type: number | string)<br>An attribute semantic, such as "position" or "uv".
* `semanticIndex` (Type: number) (optional)<br>The set index of the attribute for the given semantic. 0 is the first index of the attribute, 1 is the second, and so on. This is ignored if "name" is a string. If null, undefined, or omitted, the default is 0.
* `size` (Type: number) (optional)<br>The number of elements in each position and normal. For example, if the attribute is 3-dimensional, this parameter is 3. If null, undefined, or omitted, the default is 3. Throws an error if this value is 0 or less.

#### Return Value

This object. (Type: <a href="SurfaceBuilder.md">SurfaceBuilder</a>)

#### Examples

The following example sets the surface
function for texture coordinates to a linear evaluator. Thus, coordinates passed to the
evalSurface method will be interpolated as direct
texture coordinates.

    surface.attribute({"evaluate":function(u,v) {
    "use strict"; return [u,v] }},"uv");

<a name='SurfaceBuilder_clearVertices'></a>
### SurfaceBuilder#clearVertices()

Clears the arrays of attribute values (such as positions and normals)
and vertex indices generated so far. The attributes themselves will remain.

#### Return Value

This object. (Type: <a href="SurfaceBuilder.md">SurfaceBuilder</a>)

<a name='SurfaceBuilder_constantAttribute'></a>
### SurfaceBuilder#constantAttribute(constantValue, semantic, [semanticIndex])

Sets a value for an attribute semantic that will be the same for all
future vertices generated by the "evalSurface" method.

#### Parameters

* `constantValue` (Type: Object | number)<br>A constant value for the attribute semantic.
* `semantic` (Type: number | string)<br>An attribute semantic, such as "position", "POSITION", or "TEXCOORD_0". Throws an error if this value is a string and the string is invalid.
* `semanticIndex` (Type: number) (optional)<br>The set index of the attribute for the given semantic. 0 is the first index of the attribute, 1 is the second, and so on. This is ignored if "name" is a string. If null, undefined, or omitted, the default is 0.

#### Return Value

This object. (Type: <a href="SurfaceBuilder.md">SurfaceBuilder</a>)

#### Examples

This example sets the color to use for future
vertices to be generated for the surface.

    // Set color to red
    surface.constantAttribute([1,0,0],"COLOR");

<a name='SurfaceBuilder_constantColor'></a>
### SurfaceBuilder#constantColor(color, [semanticIndex])

Sets a value for a color attribute that will be the same for all
future vertices generated by the "evalSurface" method.

#### Parameters

* `color` (Type: Array.&lt;number> | number | string)<br>A <a href="toGLColor.md">color vector or string</a> identifying the constant color value. The alpha channel of the resulting color will be ignored.
* `semanticIndex` (Type: number) (optional)<br>The set index of the attribute for the given semantic. 0 is the first index of the attribute, 1 is the second, and so on. If null, undefined, or omitted, the default is 0.

#### Return Value

This object. (Type: <a href="SurfaceBuilder.md">SurfaceBuilder</a>)

#### Examples

This example sets the color to use for future
vertices to be generated for the surface.

    // Set color to red
    surface.constantColor("red");

<a name='SurfaceBuilder_evalSurface'></a>
### SurfaceBuilder#evalSurface([mode], [un], [vn], [u1], [u2], [v1], [v2])

Generates the vertex attributes of the parametric surfaces.

#### Parameters

* `mode` (Type: number) (optional)<br>If this value is <a href="MeshBuffer.md#MeshBuffer.TRIANGLES">MeshBuffer.TRIANGLES</a>, or is null, undefined, or omitted, generates a series of triangles defining the surface. If this value is <a href="MeshBuffer.md#MeshBuffer.LINES">MeshBuffer.LINES</a>, generates a series of lines defining the surface. If this value is <a href="MeshBuffer.md#MeshBuffer.POINTS">MeshBuffer.POINTS</a>, generates a series of points along the surface. For any other value, this method has no effect.
* `un` (Type: number) (optional)<br>Number of subdivisions along the u-axis. Default is 24. If 0, this method has no effect. Throws an error if this value is less than 0.
* `vn` (Type: number) (optional)<br>Number of subdivisions along the v-axis. Default is 24. If 0, this method has no effect. Throws an error if this value is less than 0.
* `u1` (Type: number) (optional)<br>Starting u-coordinate of the surface to evaluate. Default is the starting u-coordinate given by the <a href="Surface.md">surface evaluator object</a>, or 0 if not given.
* `u2` (Type: number) (optional)<br>Ending u-coordinate of the surface to evaluate. Default is the ending u-coordinate given by the <a href="Surface.md">surface evaluator object</a>, or 1 if not given.
* `v1` (Type: number) (optional)<br>Starting v-coordinate of the surface to evaluate. Default is the starting v-coordinate given by the <a href="Surface.md">surface evaluator object</a>, or 0 if not given.
* `v2` (Type: number) (optional)<br>Ending v-coordinate of the surface to evaluate. Default is the ending v-coordinate given by the <a href="Surface.md">surface evaluator object</a>, or 1 if not given.

#### Return Value

This object. (Type: <a href="SurfaceBuilder.md">SurfaceBuilder</a>)

<a name='SurfaceBuilder_position'></a>
### SurfaceBuilder#position(surface, [size])

Sets the parametric surface used to generate vertex positions.

#### Parameters

* `surface` (Type: Object)<br>A <a href="Surface.md">surface evaluator object</a> that describes the parametric surface used to generate position values.
* `size` (Type: number) (optional)<br>The number of elements in each position value. For example, if the attribute is 3-dimensional, this parameter is 3. If null, undefined, or omitted, the default is 3. Throws an error if this value is 0 or less.

#### Return Value

This object. (Type: <a href="SurfaceBuilder.md">SurfaceBuilder</a>)

<a name='SurfaceBuilder_positionNormal'></a>
### SurfaceBuilder#positionNormal(surface, [size])

Sets the parametric surface used to generate vertex positions and normals.

#### Parameters

* `surface` (Type: Object)<br>A <a href="Surface.md">surface evaluator object</a> that describes the parametric surface used to generate positions.
* `size` (Type: number) (optional)<br>The number of elements in each position and normal. For example, if the attribute is 3-dimensional, this parameter is 3. If null, undefined, or omitted, the default is 3. Throws an error if this value is 0 or less.

#### Return Value

This object. (Type: <a href="SurfaceBuilder.md">SurfaceBuilder</a>)

<a name='SurfaceBuilder_positionNormalTexCoord'></a>
### SurfaceBuilder#positionNormalTexCoord(surface, [size])

Sets the parametric surface used to generate vertex positions and normals, and
sets a surface evaluator that generates texture coordinates in the interval [0, 1] along the u- and v-axes of the surface.

#### Parameters

* `surface` (Type: Object | null)<br>A <a href="Surface.md">surface evaluator object</a> that describes the parametric surface used to generate positions. U and V texture coordinates, which will each be in the interval [0, 1] by this method, correspond to u- and v-coordinates, respectively, for the given surface.
* `size` (Type: number) (optional)<br>The number of elements in each position and normal. For example, if the attribute is 3-dimensional, this parameter is 3. If null, undefined, or omitted, the default is 3. The texture coordinates will be 2-dimensional.

#### Return Value

This object. (Type: <a href="SurfaceBuilder.md">SurfaceBuilder</a>)

<a name='SurfaceBuilder_positionTexCoord'></a>
### SurfaceBuilder#positionTexCoord(surface, [size])

Sets the parametric surface used to generate vertex positions, and
sets a surface evaluator that generates texture coordinates in the interval [0, 1] along the u- and v-axes of the surface.

#### Parameters

* `surface` (Type: Object | null)<br>A <a href="Surface.md">surface evaluator object</a> that describes the parametric surface used to generate positions. U and V texture coordinates, which will each be in the interval [0, 1] by this method, correspond to u- and v-coordinates, respectively, for the given surface.
* `size` (Type: number) (optional)<br>The number of elements in each position. For example, if the attribute is 3-dimensional, this parameter is 3. If null, undefined, or omitted, the default is 3. The texture coordinates will be 2-dimensional. Throws an error if this value is 0 or less.

#### Return Value

This object. (Type: <a href="SurfaceBuilder.md">SurfaceBuilder</a>)

<a name='SurfaceBuilder.surfaceToBuffer'></a>
### (static) SurfaceBuilder.surfaceToBuffer(surface, [mode], [un], [vn], [u1], [u2], [v1], [v2])

Convenience method for creating a mesh buffer from a parametric
surface. The mesh buffer will contain positions, vertex normals, and
texture coordinates that cover the given surface.

#### Parameters

* `surface` (Type: Object)<br>A <a href="Surface.md">surface evaluator object</a> that describes the parametric surface used to generate positions. U and V texture coordinates, which will each be in the interval [0, 1] by this method, correspond to u- and v-coordinates, respectively, for the given surface.
* `mode` (Type: number) (optional)<br>If this value is <a href="MeshBuffer.md#MeshBuffer.TRIANGLES">MeshBuffer.TRIANGLES</a>, or is null, undefined, or omitted, generates a series of triangles defining the surface. If this value is <a href="MeshBuffer.md#MeshBuffer.LINES">MeshBuffer.LINES</a>, generates a series of lines defining the surface. If this value is <a href="MeshBuffer.md#MeshBuffer.POINTS">MeshBuffer.POINTS</a>, generates a series of points along the surface. For any other value, this method has no effect.
* `un` (Type: number) (optional)<br>Number of subdivisions along the u-axis. Default is 24.
* `vn` (Type: number) (optional)<br>Number of subdivisions along the v-axis. Default is 24.
* `u1` (Type: number) (optional)<br>Starting u-coordinate of the surface to evaluate. Default is the starting u-coordinate given by the <a href="Surface.md">surface evaluator object</a>, or 0 if not given.
* `u2` (Type: number) (optional)<br>Ending u-coordinate of the surface to evaluate. Default is the ending u-coordinate given by the <a href="Surface.md">surface evaluator object</a>, or 1 if not given.
* `v1` (Type: number) (optional)<br>Starting v-coordinate of the surface to evaluate. Default is the starting v-coordinate given by the <a href="Surface.md">surface evaluator object</a>, or 0 if not given.
* `v2` (Type: number) (optional)<br>Ending v-coordinate of the surface to evaluate. Default is the ending v-coordinate given by the <a href="Surface.md">surface evaluator object</a>, or 1 if not given.

#### Return Value

The generated mesh buffer. (Type: <a href="MeshBuffer.md">MeshBuffer</a>)

<a name='SurfaceBuilder_texCoord'></a>
### SurfaceBuilder#texCoord(surface, [size])

Sets the parametric surface used to generate texture coordinates.

#### Parameters

* `surface` (Type: Object)<br>A <a href="Surface.md">surface evaluator object</a> that describes the parametric surface used to generate texture coordinates. u- and v-coordinates for the given surface correspond to u- and v-coordinates, respectively, for the surface used to generate vertex positions.
* `size` (Type: number) (optional)<br>The number of elements in each value of the attribute. For example, if the attribute is 3-dimensional, this parameter is 3. If null, undefined, or omitted, the default is 2.

#### Return Value

This object. (Type: <a href="SurfaceBuilder.md">SurfaceBuilder</a>)

<a name='SurfaceBuilder_toMeshBuffer'></a>
### SurfaceBuilder#toMeshBuffer()

Generates a mesh buffer containing the vertex attributes
generated so far. The mesh buffer's primitive type will equal the
last type passed to the "mode" parameter in the SurfaceBuilder.surfaceEval method.

#### Return Value

The generated mesh buffer. (Type: <a href="MeshBuffer.md">MeshBuffer</a>)

[Back to documentation index.](index.md)
